<div id="beer_menu">
Found: {{ beer_count }} Beers

<form id="beerfinder" name="beerfinder" method="post" action=".">
    <table>
        <tr>
            <td>
                <label for="name">Name</label>
                <input type="text" name="name" id="name"
                       {% if filter_name %}value="{{ filter_name }}"{% endif %}
                        ><br>

                <label for="hops">Hops</label>
                <select name="hops" id="hops">
                    <option></option>
                    {%  for hop in hops %}
                        <option value="{{ hop.pk }}" {% if filter_hops == hop.pk %}selected{% endif %}>
                            {{ hop.name }}
                        </option>
                    {% endfor %}
                </select>
            </td>
            <td>
                <label for="style">Style</label>
                <select name="style" id="style">
                    <option></option>
                    {%  for style in styles %}
                        <option value="{{ style.pk }}" {% if filter_style == style.pk %}selected{% endif %}>
                            {{ style.name }}
                        </option>
                    {% endfor %}
                </select>
            <br>

                <label for="brewery">Brewery</label>
                <select name="brewery" id="brewery">
                    <option></option>
                    {%  for brewery in breweries %}
                        <option value="{{ brewery.pk }}" {% if filter_brewey == brewery.pk %}selected{% endif %}>{{ brewery.name }}</option>
                    {% endfor %}
                </select>
            <br>
                <label for="country">Country</label>
                <select name="country" id="country">
                    <option></option>
                    {%  for country in countries %}
                        <option value="{{ country.pk }}" {% if filter_country == country.pk %}selected{% endif %}>{{ country.name }}</option>
                    {% endfor %}
                </select>
            </td>

            <td>
                <label for="abv">ABV</label><br>
                <label>> </label> <input class="num" type="number" name="abv_from" id="abv" value="{{ filter_abv_from }}"><br>
                <label>< </label> <input class="num" type="number" name="abv_to" id="abv" value="{{ filter_abv_to }}"><br>
            </td>
            <td>
                <label for="ibu">IBU</label><br>
                <label>> </label> <input class="num" type="number" name="ibu_from" id="ibu" value="{{ filter_ibu_from }}"><br>
                <label>< </label> <input class="num" type="number" name="ibu_to" id="ibu" value="{{ filter_ibu_to }}"><br>
            </td>
        </tr>
        <tr>
            <td colspan="6">
                <input type="submit" value="Find 'em">
            </td>
        </tr>
    </table>


</form>
</div>

<style>
    input.num{
        width: 3em;
    }
    td{
        border-right: 1px solid darkgrey;
        padding-right: 1em;
    }
    table{
        width: 100%;
    }

</style>

<script>
    $('#name').on('keyup', function(){
        if ($(this).val().length > 2){
            $('#beerfinder').submit()
        }
    });
    $('#hops').on('keyup', function(){
        if ($(this).val().length > 2){
            $('#beerfinder').submit()
        }
    })
</script>